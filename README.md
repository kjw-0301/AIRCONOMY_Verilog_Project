# **AirConomy(RTL설계 프로젝트)**
### 💻개발배경
**8월22일 에너지 절약의 날을 맞이하여, RTL설계를 통해 온도 습도의 데이터를 받아서 선풍기의 풍속을 조절하며, 선풍기를 사용여부를 초음파 센서로 감지하여 사용하는 사람이 없다면 전원이 꺼지도록 하여 에너지를 절약할 수 있습니다.**
## 기능설명
- 기본 선풍기의 기능인 풍속조절, 타이머 기능, 회전 기능이외에 에코모드로 전환시 온습도 센서가 측정한 온도 데이터에 따라 풍속이 결정됩니다. 
- 에너지 절약이라는 타이틀에 걸맞게 에코 모드에서는 라이트가 동작하지 않습니다. 
- 에코모드에서 선풍기의 전원을 끄지 않는 상황을 대비해 선풍기앞에 초음파 센서를 탑제하여 사람이 있을때만 선풍기의 전원이 ON됩니다. 만약 사람이 없다면 전원은 OFF됩니다.
## 상세 코드 설명
#### 💡이 프로젝트는 하나의 모듈로 설계되었으며, GitHub 레포지토리의 `Project_Electric_Fan.v` 파일에서 확인할 수 있습니다. 기본적으로 유한 상태 머신(FSM)으로 구성되어 있습니다
#### 주요 구성 요소 

**1. 온습도 센서 모듈 (dht11_usonic_duty)** 
 -  이 모듈은 탑 모듈에서 **FSM**을 통해 작동하며, 현재 상태가 `ECHO_CONTROL`일 때 선풍기의 풍속을 결정하는 `duty` 값을 `echo_duty`로 설정합니다.
- `echo_duty` 값은 **온습도 센서(DHT11)** 에서 측정된 온도에 따라 결정됩니다.
- **DHT11**모듈에서 측정한 온도 값은 **7비트 wire**로 연결됩니다

**2. 풍속 조절** 
- `ECHO_ON` 상태일 때, 특정 온도 범위에 해당하는`duty` 값을 할당하여 **온도 변화에 따른 풍속을 조절**합니다.

**3. 초음파 센서 모듈 (HC_SR04_cntr)** 
- 초음파 센서는 `usonic_enable`이라는 **MUX**를 사용하여 설계되었습니다.
- 초음파 센서가 반환하는 거리 값이 **10cm 이내**일 경우 `usonic_enable`을 **1**로 설정하고, **10cm 이상**일 경우 **0**으로 설정합니다.

**4. 최종 duty 값 설정** 
- `duty` 값을 최종적으로 설정하기 위해 또 다른 **MUX**를 사용합니다.
- `temp_duty` 값과 `usonic_enable`이 모두 **1**일 때만 `duty` 값에 `temp_duty`를 할당합니다.
- 이는 **선풍기 앞에 사람이 있을 때**만(즉, 초음파 센서가 물체와의 거리를 10cm 이내로 감지할 때) **선풍기가 동작**하도록 합니다.
